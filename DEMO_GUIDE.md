# SmartPen 演示指南

本文档提供 SmartPen 项目的完整演示流程，包括环境准备、服务启动、功能演示等。

---

## 📋 演示准备清单

### 硬件设备
- [ ] 电脑 (用于运行后端服务)
- [ ] Android 手机 (用于安装 App)
- [ ] USB 数据线
- [ ] 网络连接 (手机和电脑在同一局域网)

### 软件环境
- [ ] Python 3.10+
- [ ] PostgreSQL 15+
- [ ] Flutter SDK
- [ ] Android Studio (可选)

---

## 🚀 快速启动

### 步骤 1: 启动后端服务

```bash
# 1. 进入后端目录
cd backend

# 2. 创建虚拟环境
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 3. 安装依赖
pip install -r requirements.txt

# 4. 配置环境变量
cp .env.example .env
# 编辑 .env，配置数据库连接等

# 5. 初始化数据库
alembic upgrade head
python -m app.scripts.init_data

# 6. 生成测试数据
python -m app.scripts.generate_test_data --users 10 --characters 20 --days 30

# 7. 启动服务
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### 步骤 2: 构建 Android APK

```bash
# 1. 进入 Android 目录
cd frontend/android

# 2. 配置 Flutter SDK 路径
cp local.properties.example local.properties
# 编辑 local.properties，设置正确的路径

# 3. 运行构建脚本
chmod +x build.sh
./build.sh

# 选择构建类型: 2 (Release)
```

### 步骤 3: 安装 App

```bash
# 方法 1: USB 安装
adb install frontend/build/smartpen-1.0.0.apk

# 方法 2: 无线安装
# 将 APK 传输到手机，点击安装
```

### 步骤 4: 配置 App 连接

1. 查看电脑 IP 地址:
   ```bash
   # macOS/Linux
   ifconfig | grep inet

   # Windows
   ipconfig
   ```

2. 修改 App 中的 API 地址:
   - 找到 `lib/api/characters_api.dart`
   - 修改 `baseUrl` 为 `http://你的IP:8000`

3. 重新构建并安装

---

## 📱 功能演示流程

### 第一部分: 基础功能 (5 分钟)

#### 1.1 启动与主界面

```
1. 打开 SmartPen App
2. 显示主界面，包含:
   - 欢迎信息
   - 练习模式选择
   - 字符列表
```

**演示要点**:
- 界面简洁美观
- 响应速度快

#### 1.2 选择练习模式

```
1. 点击"练习模式"
2. 展示四种模式:
   - 基础模式 (适合初学者)
   - 专家模式 (高标准要求)
   - 自定义模式 (教师范字)
   - 计时模式 (限时挑战)
3. 选择"基础模式"
```

**演示要点**:
- 模式描述清晰
- 选择反馈及时

#### 1.3 选择字符练习

```
1. 展示字符列表
2. 选择字符"永"
3. 显示米字格书写区域
```

**演示要点**:
- 标准范字显示正确
- 米字格清晰

#### 1.4 书写与评分

```
1. 在米字格中书写"永"字
2. 点击"提交评分"
3. 显示评分结果:
   - 总分: 85/100
   - 笔画详情
   - 改进建议
```

**演示要点**:
- 评分准确合理
- 反馈具体有用

### 第二部分: 姿态监测 (3 分钟)

#### 2.1 启动相机

```
1. 点击"开启姿态监测"
2. 请求相机权限
3. 相机画面显示
```

**演示要点**:
- 权限请求友好
- 画面流畅

#### 2.2 坐姿检测

```
1. 坐直身体 → 显示绿色"坐姿良好"
2. 身体前倾 → 显示橙色"请注意坐姿"
3. 严重歪斜 → 显示红色"坐姿不正确" + 振动提醒
```

**演示要点**:
- 实时响应
- 提醒及时

### 第三部分: 学习分析 (3 分钟)

#### 3.1 查看进度统计

```
1. 点击"学习分析"
2. 显示:
   - 总练习次数: 156
   - 学习字符数: 25
   - 平均得分: 82.5
   - 连续练习天数: 7天
```

**演示要点**:
- 数据可视化
- 统计准确

#### 3.2 查看字符详情

```
1. 点击"详情"标签
2. 显示各字符练习情况:
   - 永: 练习 12 次, 平均 88 分
   - 和: 练习 8 次, 平均 76 分
```

**演示要点**:
- 分类清晰
- 趋势明显

#### 3.3 查看排行榜

```
1. 点击"排行"标签
2. 显示用户排名:
   - 第1名: 张明 - 92.3分
   - 第2名: 李华 - 89.7分
```

**演示要点**:
- 排名实时
- 激励作用

### 第四部分: 后台管理 (2 分钟)

#### 4.1 API 文档

```
1. 浏览器访问 http://localhost:8000/docs
2. 显示 Swagger UI
3. 测试 API 端点:
   - GET /api/characters/{char}
   - POST /api/characters/score
```

**演示要点**:
- 文档完整
- 交互友好

#### 4.2 测试数据

```bash
# 运行 API 测试
cd backend
python tests/test_api_integration.py

# 输出:
# ✓ 健康检查
# ✓ 获取字符数据
# ✓ 笔画评分
# ...
# 成功率: 100%
```

**演示要点**:
- 测试覆盖全面
- 结果可靠

---

## 🎯 演示话术参考

### 开场白 (30 秒)

> "大家好，今天演示的是 SmartPen 智笔系统。这是一个基于 AI 的硬笔书法教学系统，能够实时分析学生的书写笔画，给出专业的评分和指导建议。同时，系统还能监测学生的坐姿，预防近视和脊柱问题。"

### 核心功能展示 (1 分钟)

> "首先，学生可以选择练习模式，我们提供基础、专家、自定义、计时四种模式。选择字符后，在米字格中书写，系统会使用 DTW 动态时间规整算法分析笔画，与标准范字进行比对，给出 0-100 分的精确评分。"

> "系统的核心优势在于 AI 算法，我们使用 Google 的 InkSight 模型从图像生成笔画轨迹，结合 PaddleOCR 进行字符验证，确保评分的准确性和可靠性。"

### 姿态监测展示 (30 秒)

> "SmartPen 还有一个创新功能 - 实时姿态监测。使用 ML Kit Pose 检测技术，系统能够分析学生的脊柱角度、眼屏距离、头部倾斜等指标。当检测到不良坐姿时，会通过声音和振动及时提醒，帮助学生养成正确的书写习惯。"

### 学习分析展示 (30 秒)

> "系统提供完整的学习数据分析，包括练习次数、平均得分、连续练习天数等。学生可以查看每个字符的练习历史，了解自己的进步轨迹。排行榜功能还能激发学生的学习动力。"

### 总结 (30 秒)

> "SmartPen 将 AI 技术与传统书法教学结合，既保证了评分的专业性，又提升了学习的趣味性。系统支持教师创建自定义范字，满足不同教学需求。完整的生产部署方案，让系统可以快速投入使用。"

---

## ⚠️ 常见问题处理

### 问题 1: App 无法连接服务器

**现象**: 提示"网络请求失败"

**处理**:
1. 确认手机和电脑在同一网络
2. 检查电脑防火墙设置
3. 确认后端服务正常运行
4. 检查 API 地址配置

### 问题 2: 姿态检测不工作

**现象**: 相机画面显示，但无姿态反馈

**处理**:
1. 确认相机权限已授予
2. 调整手机位置，确保身体在画面中
3. 检查光线是否充足
4. 尝试重启应用

### 问题 3: 评分异常

**现象**: 评分结果不合理

**处理**:
1. 演示说明: 这是演示版本
2. 确认使用了正确的笔顺
3. 重新书写并提交

---

## 📊 演示数据准备

### 快速生成测试数据

```bash
cd backend

# 生成 10 个用户，20 个范字，30 天的练习记录
python -m app.scripts.generate_test_data --users 10 --characters 20 --days 30

# 查看生成结果
python tests/test_api_integration.py
```

### 清理测试数据

```bash
python -m app.scripts.generate_test_data --clear
```

---

## 🎥 录屏建议

### 重点录制内容

1. **主界面** (10 秒)
   - 整体布局
   - 导航结构

2. **书写过程** (20 秒)
   - 笔画追踪
   - 实时反馈

3. **评分结果** (10 秒)
   - 评分显示
   - 详细分析

4. **姿态监测** (15 秒)
   - 姿态变化
   - 提醒响应

5. **学习分析** (15 秒)
   - 数据图表
   - 趋势展示

### 录屏工具

- Android: 内置屏幕录制
- iOS: QuickTime Player
- 电脑: OBS Studio

---

## 📞 技术支持

### 联系方式

- 项目主页: https://github.com/liangzhipengdamon-maker/SmartPen
- Issues: https://github.com/liangzhipengdamon-maker/SmartPen/issues

### 相关文档

- [README.md](README.md) - 项目概述
- [ANDROID_BUILD.md](ANDROID_BUILD.md) - APK 构建指南
- [deployment/DEPLOYMENT.md](deployment/DEPLOYMENT.md) - 部署文档

---

**祝演示成功！** 🎉
